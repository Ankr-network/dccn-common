{
  "swagger": "2.0",
  "info": {
    "title": "dccn/facade open api",
    "version": "version not set"
  },
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/register": {
      "post": {
        "summary": "Sends a register request",
        "operationId": "register",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/EmptyResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "name",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "email",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "password",
            "in": "query",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Usermgr"
        ]
      }
    },
    "/logout": {
      "post": {
        "summary": "Sends a logout request",
        "operationId": "logout",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/EmptyResponse"
            }
          }
        },
        "parameters": [],
        "tags": [
          "Usermgr"
        ]
      }
    },
    "/login": {
      "post": {
        "summary": "Sends a login request",
        "operationId": "login",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/LoginResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "password",
            "in": "query",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Usermgr"
        ]
      }
    },
    "/refresh": {
      "post": {
        "summary": "Sends a refresh request",
        "operationId": "refresh",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/EmptyResponse"
            }
          }
        },
        "parameters": [],
        "tags": [
          "Usermgr"
        ]
      }
    },
    "/confirm_email": {
      "post": {
        "summary": "Sends a confirm email request",
        "operationId": "comfirmemail",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/EmptyResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "new_email",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "confirmation_code",
            "in": "query",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Usermgr"
        ]
      }
    },
    "/change_email": {
      "post": {
        "summary": "Sends a change email request",
        "operationId": "changeemail",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/EmptyResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "new_email",
            "in": "query",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Usermgr"
        ]
      }
    },
    "/forgot_password": {
      "post": {
        "summary": "Sends a forgot password request",
        "operationId": "forgotpassoword",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/EmptyResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Usermgr"
        ]
      }
    },
    "/confirm_password": {
      "post": {
        "summary": "Sends a confirm password request",
        "operationId": "comfirmpassword",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/EmptyResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "new_password",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "confirmation_code",
            "in": "query",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Usermgr"
        ]
      }
    },
    "/change_password": {
      "post": {
        "summary": "Sends a change password request",
        "operationId": "changepassword",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/EmptyResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "old_password",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "new_password",
            "in": "query",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Usermgr"
        ]
      }
    },
    "/update_attribute": {
      "post": {
        "summary": "Sends an update attribute request",
        "operationId": "updateattribute",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/UserResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "key",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "value",
            "in": "query",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Usermgr"
        ]
      }
    },
    "/dc/list": {
      "get": {
        "summary": "Sends a list datacenter request",
        "operationId": "datacenterlist",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/DcListResponse"
            }
          }
        },
        "parameters": [],
        "tags": [
          "Dcmgr"
        ]
      }
    },
    "/dc/leaderboard": {
      "get": {
        "summary": "Sends a list leaderboard request",
        "operationId": "datacenterleaderboard",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/DcLeaderboardResponse"
            }
          }
        },
        "parameters": [],
        "tags": [
          "Dcmgr"
        ]
      }
    },
    "/dc/networkinfo": {
      "get": {
        "summary": "Sends a newwork information request",
        "operationId": "dcnetworkinfo",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/DcNetworkInfoResponse"
            }
          }
        },
        "parameters": [],
        "tags": [
          "Dcmgr"
        ]
      }
    },
    "/task/create": {
      "post": {
        "summary": "Sends a create task request",
        "operationId": "createtask",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/CreateTaskResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "name",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "type",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "image",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "schedule",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "replica",
            "in": "query",
            "required": true,
            "type": "integer"
          },
          {
            "name": "data_center_name",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "cpu",
            "in": "query",
            "required": false,
            "type": "integer"
          },
          {
            "name": "memory",
            "in": "query",
            "required": false,
            "type": "integer"
          },
          {
            "name": "disk",
            "in": "query",
            "required": false,
            "type": "integer"
          },
          {
            "name": "chart_name",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "chart_ver",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "chart_repo",
            "in": "query",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Taskmgr"
        ]
      }
    },
    "/task/update": {
      "post": {
        "summary": "Sends an update task request",
        "operationId": "updatetask",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/EmptyResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "name",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "type",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "image",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "schedule",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "replica",
            "in": "query",
            "required": true,
            "type": "integer"
          },
          {
            "name": "data_center_name",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "cpu",
            "in": "query",
            "required": false,
            "type": "integer"
          },
          {
            "name": "memory",
            "in": "query",
            "required": false,
            "type": "integer"
          },
          {
            "name": "disk",
            "in": "query",
            "required": false,
            "type": "integer"
          },
          {
            "name": "chart_name",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "chart_ver",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "chart_repo",
            "in": "query",
            "required": true,
            "type": "string"
          },
          {
            "name": "task_id",
            "in": "query",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Taskmgr"
        ]
      }
    },
    "/task/cancel": {
      "post": {
        "summary": "Sends a cancel task request",
        "operationId": "canceltask",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/EmptyResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "task_id",
            "in": "query",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Taskmgr"
        ]
      }
    },
    "/task/purge": {
      "post": {
        "summary": "Sends a purge task request",
        "operationId": "purgetask",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/EmptyResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "task_id",
            "in": "query",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Taskmgr"
        ]
      }
    },
    "/task/list": {
      "post": {
        "summary": "Sends a list tasks request",
        "operationId": "tasklist",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/TaskListResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "task_id",
            "in": "query",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "Taskmgr"
        ]
      }
    },
    "/task/overview": {
      "get": {
        "summary": "Sends a task overview request",
        "operationId": "taskoverview",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/TaskOverviewResponse"
            }
          }
        },
        "parameters": [],
        "tags": [
          "Taskmgr"
        ]
      }
    },
    "/task/leaderboard": {
      "get": {
        "summary": "Sends a task leaderboard request",
        "operationId": "taskleaderboard",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/TaskLeaderboardResponse"
            }
          }
        },
        "parameters": [],
        "tags": [
          "Taskmgr"
        ]
      }
    }
  },
  "components": {
    "userattribute": {
      "type": "object",
      "properties": {
        "key": {
          "type": "string"
        },
        "value": {
          "type": "string"
        }
      },
      "description": "This message serve as userattribute."
    },
    "dcdetail": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "number": {
          "type": "number"
        }
      },
      "description": "This message containing datacenterdetail."
    },
    "task": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "type": {
          "type": "string"
        },
        "data_center_name": {
          "type": "string"
        },
        "status": {
          "type": "string"
        },
        "task_attributes": {
          "type": "object",
          "properties": {
            "replica": {
              "type": "integer"
            },
            "creation_date": {
              "type": "integer"
            },
            "last_modified_date": {
              "type": "integer"
            }
          }
        },
        "environments": {
          "type": "object",
          "properties": {
            "cpu": {
              "type": "integer"
            },
            "memory": {
              "type": "integer"
            },
            "disk": {
              "type": "integer"
            }
          }
        },
        "uid": {
          "type": "string"
        },
        "chart_name": {
          "type": "string"
        },
        "chart_ver": {
          "type": "string"
        },
        "chart_repo": {
          "type": "string"
        }
      }
    },
    "datacenter": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "geo_location": {
          "type": "string"
        },
        "status": {
          "type": "string"
        },
        "dc_attributes": {
          "type": "object",
          "properties": {
            "wallet_address": {
              "type": "string"
            },
            "creation_date": {
              "type": "integer"
            },
            "last_modified_date": {
              "type": "integer"
            }
          }
        },
        "dc_heartbeat_report": {
          "type": "object",
          "properties": {
            "metrics": {
              "type": "string"
            },
            "report": {
              "type": "string"
            },
            "report_time": {
              "type": "integer"
            }
          }
        }
      },
      "description": "This message containing datacenter."
    }
  },
  "definitions": {
    "EmptyResponse": {
      "type": "object",
      "properties": {},
      "description": "The request message containing Empty."
    },
    "UserResponse": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "status": {
          "type": "string"
        },
        "attribute": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string"
            },
            "pub_key": {
              "type": "string"
            },
            "creation_date": {
              "type": "integer"
            },
            "last_modified_date": {
              "type": "integer"
            },
            "extra_fields": {
              "type": "array",
              "items": {
                "$ref": "#/components/userattribute"
              }
            }
          }
        }
      },
      "title": "User Information",
      "description": "The response message containing the User information"
    },
    "LoginResponse": {
      "type": "object",
      "properties": {
        "expiration": {
          "type": "string"
        },
        "issued_at": {
          "type": "string"
        },
        "access_token": {
          "type": "string"
        },
        "refresh_token": {
          "type": "string"
        }
      },
      "title": "Login Information",
      "description": "The response message containing the login information"
    },
    "DcNetworkInfoResponse": {
      "type": "object",
      "properties": {
        "user_count": {
          "type": "integer"
        },
        "host_count": {
          "type": "integer"
        },
        "environment_count": {
          "type": "integer"
        },
        "container_count": {
          "type": "integer"
        },
        "traffic": {
          "type": "integer"
        }
      },
      "title": "DcNetwork information",
      "description": "The response message containing the DcNetwork information"
    },
    "DcLeaderboardResponse": {
      "type": "object",
      "properties": {
        "datacenter_leader_board_detail": {
          "type": "array",
          "items": {
            "$ref": "#/components/dcdetail"
          }
        }
      },
      "title": "DcLeaderBoard information",
      "description": "The response message containing the DcLeaderboard information"
    },
    "TaskLeaderboardResponse": {
      "type": "object",
      "properties": {
        "task_leader_board_detail": {
          "type": "array",
          "items": {
            "$ref": "#/components/dcdetail"
          }
        }
      },
      "title": "The response message containing the DcLeaderboard information"
    },
    "DcListResponse": {
      "type": "object",
      "properties": {
        "dclist": {
          "type": "array",
          "items": {
            "$ref": "#/components/datacenter"
          }
        }
      },
      "title": "DcList Information",
      "description": "The response message containing the DcList information"
    },
    "TaskListResponse": {
      "type": "object",
      "properties": {
        "tasklist": {
          "type": "array",
          "items": {
            "$ref": "#/components/task"
          }
        }
      },
      "title": "TaskList Information",
      "description": "The response message containing the TaskList information"
    },
    "TaskOverviewResponse": {
      "type": "object",
      "properties": {
        "cluster_count": {
          "type": "integer"
        },
        "environment_count": {
          "type": "integer"
        },
        "region_count": {
          "type": "integer"
        },
        "total_task_count": {
          "type": "integer"
        },
        "health_task_count": {
          "type": "integer"
        }
      },
      "title": "TaskOverview Information",
      "description": "The response message containing the TaskOverview information"
    },
    "CreateTaskResponse": {
      "type": "object",
      "properties": {
        "task_id": {
          "type": "string"
        }
      },
      "title": "Create Task Response",
      "description": "The response message containing the returned taskid"
    }
  }
}